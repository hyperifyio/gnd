# Test list filter primitive
# Empty list
prim-list-filter [] "is_even"

# Verify result
assert-equals len(result) 0

# Filter even numbers
prim-list-filter [1 2 3 4 5] "is_even"

# Verify result
assert-equals len(result) 2
assert-equals result[0] 2
assert-equals result[1] 4

# Filter strings by length
prim-list-filter ["a" "bb" "ccc" "dddd"] "is_long"

# Verify result
assert-equals len(result) 2
assert-equals result[0] "ccc"
assert-equals result[1] "dddd"

# Invalid input type
prim-list-filter "not a list" "is_even"

# Verify error
assert-error "input is not a list"

# Invalid predicate token
prim-list-filter [1 2 3] "nonexistent"

# Verify error
assert-error "invalid predicate token" 